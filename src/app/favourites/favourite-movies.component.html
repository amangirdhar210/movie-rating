<div class="favourites-container">
  <div class="header-section">
    <h1 class="page-title">My Favourite Movies</h1>
    <button
      *ngIf="favouriteMovies.length > 0"
      pButton
      label="Clear All"
      icon="pi pi-trash"
      (click)="clearAllFavourites()"
      class="p-button-danger clear-all-button"
    ></button>
  </div>

  <div *ngIf="favouriteMovies.length === 0" class="empty-state">
    <i class="pi pi-heart empty-icon"></i>
    <p class="empty-title">No favourite movies yet</p>
    <p class="empty-subtitle">
      Start adding movies to your favourites from the trending page!
    </p>
  </div>

  <div *ngIf="favouriteMovies.length > 0" class="content-section">
    <div class="movies-grid">
      <app-movie-card
        *ngFor="let movie of favouriteMovies"
        [movie]="movie"
        [isFavourite]="isFavourite(movie.id)"
        [userRating]="getUserRating(movie.id)"
        (movieClick)="onMovieClick($event)"
      ></app-movie-card>
    </div>
  </div>
</div>

<app-movie-detail-modal
  [(visible)]="showModal"
  [movie]="selectedMovie"
  [isFavourite]="selectedMovie ? isFavourite(selectedMovie.id) : false"
  [userRating]="selectedMovie ? getUserRating(selectedMovie.id) : 0"
  (toggleFavourite)="onToggleFavourite($event)"
  (rateMovie)="onRateMovie($event)"
></app-movie-detail-modal>
